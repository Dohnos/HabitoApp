<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Habito: V√°≈° Pr≈Øvodce N√°vyky</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="importmap">
  {
    "imports": {
      "react": "https://esm.sh/react@18.2.0",
      "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
      "canvas-confetti": "https://esm.sh/canvas-confetti@1.9.2"
    }
  }
  </script>
  <style>
    body { margin: 0; padding: 0; }
    /* Podpora pro notch na iOS */
    :root {
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    }
    .pb-safe {
      padding-bottom: var(--safe-area-inset-bottom);
    }
    /* Styly pro svƒõtl√Ω vzhled */
    .light {
        --bg-primary: #f3f4f6; /* gray-100 */
        --bg-secondary: #ffffff; /* white */
        --bg-tertiary: #e5e7eb; /* gray-200 */
        --text-primary: #111827; /* gray-900 */
        --text-secondary: #6b7280; /* gray-500 */
        --text-tertiary: #9ca3af; /* gray-400 */
        --accent: #7c3aed; /* purple-600 */
        --accent-light: #c4b5fd; /* purple-300 */
        --border-color: #d1d5db; /* gray-300 */
    }
    /* Styly pro tmav√Ω vzhled (v√Ωchoz√≠) */
    .dark {
        --bg-primary: #000000;
        --bg-secondary: #1f2937; /* gray-800 */
        --bg-tertiary: #374151; /* gray-700 */
        --text-primary: #ffffff;
        --text-secondary: #9ca3af; /* gray-400 */
        --text-tertiary: #6b7280; /* gray-500 */
        --accent: #8b5cf6; /* purple-500 */
        --accent-light: #a78bfa; /* purple-400 */
        --border-color: #4b5563; /* gray-600 */
    }
    /* Aplikace promƒõnn√Ωch */
    .theme-bg-primary { background-color: var(--bg-primary); }
    .theme-bg-secondary { background-color: var(--bg-secondary); }
    .theme-bg-tertiary { background-color: var(--bg-tertiary); }
    .theme-text-primary { color: var(--text-primary); }
    .theme-text-secondary { color: var(--text-secondary); }
    .theme-text-tertiary { color: var(--text-tertiary); }
    .theme-accent { color: var(--accent); }
    .theme-accent-bg { background-color: var(--accent); }
    .theme-border { border-color: var(--border-color); }
  </style>
</head>
<body>
  <div id="root"></div>
  <canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999;"></canvas>

  <script type="module">
    import React, { useState, useEffect, useMemo, useCallback } from 'react';
    import { createRoot } from 'react-dom/client';
    import confetti from 'canvas-confetti';
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getDatabase, ref, set, onValue, remove, push, update } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

    const firebaseConfig = {
      apiKey: "AIzaSyA2ecBNRLduifcNl2wYbA06CZ3hb-w1194",
      authDomain: "habittracker-f0dc5.firebaseapp.com",
      databaseURL: "https://habittracker-f0dc5-default-rtdb.europe-west1.firebasedatabase.app/",
      projectId: "habittracker-f0dc5",
      storageBucket: "habittracker-f0dc5.firebasestorage.app",
      messagingSenderId: "571032128665",
      appId: "1:571032128665:web:ab6fafd6ced02d689abc08"
    };

    let app, database;
    try {
      app = initializeApp(firebaseConfig);
      database = getDatabase(app);
    } catch (error) {
      console.error("Firebase nen√≠ nakonfigurov√°n", error);
    }

    const EMOJI_ICONS = ['ü•ï', 'üçé', 'üèÉ', 'üìö', 'üíß', 'üßò', 'üí™', 'üéØ', '‚ú®', 'üåü', 'üé®', 'üéµ', 'üèãÔ∏è', 'üö¥', 'üèä', '‚öΩ', 'üéÆ', 'üìù', 'üíª', 'üì±', '‚òï', 'üçµ', 'üõèÔ∏è', 'üßπ', 'ü™•', 'üöø', 'üå±', 'üå∏', 'üåû', 'üåô'];
    const COLORS = ['#FF6B4A', '#FF9F4A', '#FFD84A', '#4ADE80', '#4AB8E8', '#4A7FFF', '#7B68EE', '#DA4AFF', '#FF4A8C', '#C4A77D', '#9CA3AF', '#FFFFFF'];
    const DAYS = ['po', '√∫t', 'st', 'ƒçt', 'p√°', 'so', 'ne'];
    
    const MOTIVATIONAL_QUOTES = [
        "Skvƒõl√Ω zaƒç√°tek dne!",
        "Ka≈æd√Ω krok se poƒç√≠t√°.",
        "Dnes je den pro √∫spƒõch!",
        "Jste na spr√°vn√© cestƒõ.",
        "Pokraƒçujte, jde v√°m to skvƒõle!",
        "V≈°echny n√°vyky splnƒõny, √∫≈æasn√©!"
    ];

    // --- Helper Functions ---
    const getDateString = (date = new Date()) => date.toISOString().split('T')[0];

    const getWeekNumber = (d) => {
        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
        d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
        const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
        return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
    };

    const getMonthId = (date = new Date()) => `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;
    const getWeekId = (date = new Date()) => `${date.getFullYear()}-W${String(getWeekNumber(date)).padStart(2, '0')}`;
    
    // --- Core Habit Logic ---
    const getProgressForDate = (habit, date) => habit.progress?.[getDateString(date)] || 0;

    const getAggregatedProgress = (habit) => {
        if (!habit.progress) return 0;
        const now = new Date();
        
        if (habit.frequency === 'weekly') {
            const weekId = getWeekId(now);
            return Object.entries(habit.progress)
                .filter(([dateStr]) => getWeekId(new Date(dateStr)) === weekId)
                .reduce((sum, [, val]) => sum + val, 0);
        }
        if (habit.frequency === 'monthly') {
            const monthId = getMonthId(now);
            return Object.entries(habit.progress)
                .filter(([dateStr]) => getMonthId(new Date(dateStr)) === monthId)
                .reduce((sum, [, val]) => sum + val, 0);
        }
        // Daily
        return getProgressForDate(habit, now);
    };

    const getProgressPercentage = (habit) => {
        const current = getAggregatedProgress(habit);
        return Math.min(Math.round((current / habit.goal) * 100), 100);
    };

    // --- Main App Component ---
    function HabitsTracker() {
      const [habits, setHabits] = useState([]);
      const [archivedHabits, setArchivedHabits] = useState([]);
      const [view, setView] = useState('home');
      const [editingHabit, setEditingHabit] = useState(null);
      const [theme, setTheme] = useState(localStorage.getItem('habito-theme') || 'dark');

      const myConfetti = confetti.create(document.getElementById('confetti-canvas'), {
          resize: true,
          useWorker: true
      });

      useEffect(() => {
        document.body.className = `${theme} theme-bg-primary theme-text-primary`;
        localStorage.setItem('habito-theme', theme);
      }, [theme]);
      
      useEffect(() => {
        if (!database) return;
        const habitsRef = ref(database, 'habits');
        return onValue(habitsRef, (snapshot) => {
          const data = snapshot.val() || {};
          const allHabits = Object.keys(data).map(key => ({ id: key, ...data[key] }));
          setHabits(allHabits.filter(h => !h.archived));
          setArchivedHabits(allHabits.filter(h => h.archived));
        });
      }, []);

      // Check for all daily habits completed
      useEffect(() => {
        const dailyHabits = habits.filter(h => h.frequency === 'daily');
        if (dailyHabits.length > 0) {
            const allDailyCompleted = dailyHabits.every(h => getProgressForDate(h, new Date()) >= h.goal);
            if (allDailyCompleted) {
                myConfetti({ particleCount: 150, spread: 90, origin: { y: 0.6 } });
            }
        }
      }, [habits]);


      // --- Database Operations (memoized) ---
      const handleHabitUpdate = useCallback(async (habitId, updates) => {
        if (!database) return;
        await update(ref(database, `habits/${habitId}`), updates);
      }, []);

      const incrementHabit = useCallback(async (habit) => {
        const todayStr = getDateString();
        const currentProgress = habit.progress?.[todayStr] || 0;
        const newProgress = { ...habit.progress, [todayStr]: currentProgress + 1 };
        await handleHabitUpdate(habit.id, { progress: newProgress });
      }, [handleHabitUpdate]);

      const decrementHabit = useCallback(async (habit) => {
        const todayStr = getDateString();
        const currentProgress = habit.progress?.[todayStr] || 0;
        if (currentProgress > 0) {
          const newProgress = { ...habit.progress, [todayStr]: currentProgress - 1 };
          await handleHabitUpdate(habit.id, { progress: newProgress });
        }
      }, [handleHabitUpdate]);
      
      const onAddHabit = useCallback(async (newHabitData) => {
        if (!database) return;
        const newHabitRef = push(ref(database, 'habits'));
        await set(newHabitRef, {
            ...newHabitData,
            progress: {},
            archived: false,
            createdAt: new Date().toISOString()
        });
        setView('home');
      }, []);

      const onUpdateHabit = useCallback(async (habitId, updatedData) => {
        await handleHabitUpdate(habitId, updatedData);
        setEditingHabit(null);
      }, [handleHabitUpdate]);
      
      const onDeleteHabit = useCallback(async (habitId) => {
        if (!database || !confirm('Opravdu chcete tento n√°vyk smazat? Tato akce je nevratn√°.')) return;
        await remove(ref(database, `habits/${habitId}`));
      }, []);


      // --- Render Logic ---
      const renderView = () => {
        switch(view) {
          case 'add': return React.createElement(AddHabitView, { onAddHabit, onBack: () => setView('home') });
          case 'edit': return React.createElement(AddHabitView, { 
              habit: editingHabit, 
              onUpdateHabit: (data) => onUpdateHabit(editingHabit.id, data), 
              onBack: () => setEditingHabit(null) 
          });
          case 'history': return React.createElement(HistoryView, { habits, archivedHabits, handleHabitUpdate, onDeleteHabit });
          case 'settings': return React.createElement(SettingsView, { theme, setTheme, onBack: () => setView('home') });
          default: return React.createElement(HomeView, { habits, incrementHabit, decrementHabit, setEditingHabit, setView });
        }
      };

      return React.createElement('div', { className: 'min-h-screen theme-bg-primary' },
        React.createElement('main', { className: 'max-w-2xl mx-auto p-4 pb-24' }, renderView()),
        React.createElement(BottomNav, { view, setView })
      );
    }
    
    // --- VIEWS & COMPONENTS ---

    function HomeView({ habits, incrementHabit, decrementHabit, setEditingHabit, setView }) {
        const dailyHabits = useMemo(() => habits.filter(h => h.frequency === 'daily'), [habits]);
        const weeklyHabits = useMemo(() => habits.filter(h => h.frequency === 'weekly'), [habits]);
        const monthlyHabits = useMemo(() => habits.filter(h => h.frequency === 'monthly'), [habits]);

        const totalProgress = useMemo(() => {
            if (habits.length === 0) return 0;
            const completed = habits.filter(h => getAggregatedProgress(h) >= h.goal).length;
            return Math.round((completed / habits.length) * 100);
        }, [habits]);

        const quote = useMemo(() => {
            if (totalProgress === 100) return MOTIVATIONAL_QUOTES[5];
            const index = Math.floor((totalProgress / 100) * (MOTIVATIONAL_QUOTES.length - 1));
            return MOTIVATIONAL_QUOTES[index];
        }, [totalProgress]);

        return React.createElement(React.Fragment, null,
            React.createElement('header', { className: 'flex justify-between items-center mb-6' },
                React.createElement('h1', { className: 'text-2xl font-bold theme-text-primary' }, 'HABITO'),
                React.createElement('button', {
                    onClick: () => setView('add'),
                    className: 'w-12 h-12 theme-bg-secondary rounded-full flex items-center justify-center text-2xl theme-text-primary shadow-md'
                }, '+')
            ),

            React.createElement('div', { className: 'flex justify-center items-center flex-col text-center mb-8 p-6 theme-bg-secondary rounded-3xl' },
              React.createElement(ProgressCircle, { percentage: totalProgress }),
              React.createElement('p', { className: 'mt-4 font-semibold theme-text-primary' }, quote)
            ),
            
            React.createElement(HabitList, { title: 'Denn√≠ c√≠le', habits: dailyHabits, incrementHabit, decrementHabit, setEditingHabit }),
            React.createElement(HabitList, { title: 'T√Ωdenn√≠ c√≠le', habits: weeklyHabits, incrementHabit, decrementHabit, setEditingHabit }),
            React.createElement(HabitList, { title: 'Mƒõs√≠ƒçn√≠ c√≠le', habits: monthlyHabits, incrementHabit, decrementHabit, setEditingHabit })
        );
    }
    
    function HabitList({ title, habits, ...props }) {
        if (habits.length === 0) return null;
        return React.createElement('div', { className: 'mb-8' },
            React.createElement('h2', { className: 'text-xl font-bold mb-4 theme-text-primary' }, title),
            React.createElement('div', { className: 'space-y-3' },
                habits.map(habit => React.createElement(HabitItem, { key: habit.id, habit, ...props }))
            )
        );
    }

    function HabitItem({ habit, incrementHabit, decrementHabit, setEditingHabit }) {
        const progress = getAggregatedProgress(habit);
        const percentage = getProgressPercentage(habit);
        const isCompleted = progress >= habit.goal;

        return React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4 flex items-center justify-between transition-all duration-300' },
            React.createElement('div', { className: 'flex items-center space-x-4 flex-1' },
                React.createElement('div', { 
                    className: 'w-14 h-14 rounded-full flex items-center justify-center text-2xl',
                    style: { backgroundColor: habit.color + '33' }
                }, habit.icon),
                React.createElement('div', { className: 'flex-1' },
                    React.createElement('div', { className: `font-semibold theme-text-primary ${isCompleted ? 'line-through theme-text-tertiary' : ''}` }, habit.name),
                    React.createElement('div', { className: 'text-sm theme-text-secondary' }, `C√≠l: ${progress} / ${habit.goal}`)
                )
            ),
            React.createElement('div', { className: 'flex items-center space-x-2' },
              React.createElement('button', { onClick: () => setEditingHabit(habit), className: 'w-8 h-8 flex items-center justify-center theme-bg-tertiary rounded-full theme-text-secondary' }, '‚úé'),
              React.createElement('button', { onClick: () => decrementHabit(habit), className: 'w-10 h-10 flex items-center justify-center theme-bg-tertiary rounded-full font-bold theme-text-primary' }, '-'),
              React.createElement(ProgressCircle, { 
                  percentage: percentage, 
                  color: habit.color, 
                  size: 64,
                  children: React.createElement('button', {
                    onClick: () => incrementHabit(habit),
                    className: 'absolute inset-0 flex items-center justify-center text-xl font-bold theme-text-primary'
                  }, progress)
              })
            )
        );
    }
    
    function ProgressCircle({ percentage, color = '#8b5cf6', size = 160, strokeWidth = 14, children }) {
        const radius = (size / 2) - strokeWidth;
        const circumference = 2 * Math.PI * radius;
        const offset = circumference * (1 - percentage / 100);
        
        return React.createElement('div', { className: 'relative', style: { width: size, height: size } },
            React.createElement('svg', { className: 'transform -rotate-90', width: size, height: size },
                React.createElement('circle', { cx: size/2, cy: size/2, r: radius, stroke: 'var(--bg-tertiary)', strokeWidth, fill: 'none' }),
                React.createElement('circle', { 
                    cx: size/2, cy: size/2, r: radius,
                    stroke: color,
                    strokeWidth,
                    fill: 'none',
                    strokeDasharray: circumference,
                    strokeDashoffset: offset,
                    strokeLinecap: 'round',
                    style: { transition: 'stroke-dashoffset 0.5s ease' }
                })
            ),
            React.createElement('div', { className: 'absolute inset-0 flex items-center justify-center' },
                children || React.createElement('div', { className: 'text-center' },
                    React.createElement('span', { className: 'text-4xl font-bold theme-text-primary' }, percentage),
                    React.createElement('span', { className: 'text-xl theme-text-secondary' }, '%')
                )
            )
        );
    }
    
    // Placeholder for new detailed HistoryView
    function HistoryView({ habits, archivedHabits, handleHabitUpdate, onDeleteHabit }) {
        // This is a simplified version. A full implementation would be more complex.
        return React.createElement('div', { className: 'space-y-6' },
            React.createElement('h1', { className: 'text-2xl font-bold theme-text-primary' }, 'Historie a Analytika'),
            
            React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4' },
                React.createElement('h3', { className: 'font-bold mb-2' }, 'Denn√≠ n√°vyky - Kalend√°≈ô'),
                React.createElement('p', { className: 'text-sm theme-text-secondary' }, 'Zde bude vizualizace denn√≠ch n√°vyk≈Ø formou heatmap kalend√°≈ôe.')
            ),
            React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4' },
                React.createElement('h3', { className: 'font-bold mb-2' }, 'T√Ωdenn√≠ n√°vyky - P≈ôehled'),
                React.createElement('p', { className: 'text-sm theme-text-secondary' }, 'Zde bude graf plnƒõn√≠ t√Ωdenn√≠ch c√≠l≈Ø v ƒçase.')
            ),
            React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4' },
                React.createElement('h3', { className: 'font-bold mb-2' }, 'Mƒõs√≠ƒçn√≠ n√°vyky - Report'),
                React.createElement('p', { className: 'text-sm theme-text-secondary' }, 'Zde bude mƒõs√≠ƒçn√≠ report plnƒõn√≠ dlouhodob√Ωch c√≠l≈Ø.')
            ),
            
            React.createElement('div', { className: 'mt-8' },
              React.createElement('h2', { className: 'text-xl font-bold mb-4' }, 'Archivovan√© n√°vyky'),
              archivedHabits.length > 0 ?
                React.createElement('div', { className: 'space-y-3' }, 
                  archivedHabits.map(habit => React.createElement('div', { key: habit.id, className: 'theme-bg-secondary rounded-3xl p-4 flex justify-between items-center' },
                    React.createElement('span', { className: 'theme-text-tertiary' }, habit.name),
                    React.createElement('div', { className: 'space-x-2' },
                      React.createElement('button', { onClick: () => handleHabitUpdate(habit.id, { archived: false }), className: 'px-3 py-1 text-sm theme-accent-bg text-white rounded-full' }, 'Obnovit'),
                      React.createElement('button', { onClick: () => onDeleteHabit(habit.id), className: 'px-3 py-1 text-sm bg-red-500 text-white rounded-full' }, 'Smazat')
                    )
                  ))
                ) : React.createElement('p', { className: 'theme-text-secondary' }, '≈Ω√°dn√© archivovan√© n√°vyky.')
            )
        );
    }

    function SettingsView({ theme, setTheme, onBack }) {
        return React.createElement('div', { className: 'space-y-6' },
            React.createElement('header', { className: 'flex items-center mb-6' },
                React.createElement('button', { onClick: onBack, className: 'w-10 h-10 theme-bg-secondary rounded-full mr-4' }, '‚Üê'),
                React.createElement('h1', { className: 'text-2xl font-bold' }, 'Nastaven√≠')
            ),
            React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4' },
                React.createElement('h3', { className: 'font-bold mb-4' }, 'Vzhled aplikace'),
                React.createElement('div', { className: 'flex space-x-2' },
                    React.createElement('button', { 
                        onClick: () => setTheme('light'),
                        className: `flex-1 py-3 rounded-full font-semibold ${theme === 'light' ? 'theme-accent-bg text-white' : 'theme-bg-tertiary'}`
                    }, 'Svƒõtl√Ω'),
                    React.createElement('button', { 
                        onClick: () => setTheme('dark'),
                        className: `flex-1 py-3 rounded-full font-semibold ${theme === 'dark' ? 'theme-accent-bg text-white' : 'theme-bg-tertiary'}`
                    }, 'Tmav√Ω')
                )
            ),
            React.createElement('div', { className: 'theme-bg-secondary rounded-3xl p-4 text-center theme-text-secondary text-sm' },
                'Habito App v1.0'
            )
        );
    }
    
    function AddHabitView({ habit, onAddHabit, onUpdateHabit, onBack }) {
        const [name, setName] = useState(habit?.name || '');
        const [icon, setIcon] = useState(habit?.icon || 'üéØ');
        const [color, setColor] = useState(habit?.color || '#7B68EE');
        const [goal, setGoal] = useState(habit?.goal || 1);
        const [frequency, setFrequency] = useState(habit?.frequency || 'daily');
        
        const isEditing = !!habit;

        const handleSubmit = () => {
            const habitData = { name, icon, color, goal, frequency };
            if (isEditing) {
                onUpdateHabit(habitData);
            } else {
                onAddHabit(habitData);
            }
        };
        
        return React.createElement('div', null,
            React.createElement('header', { className: 'flex justify-between items-center mb-6' },
                React.createElement('button', { onClick: onBack, className: 'w-12 h-12 theme-bg-secondary rounded-full flex items-center justify-center text-xl' }, '‚Üê'),
                React.createElement('h1', { className: 'text-xl font-bold' }, isEditing ? 'Upravit n√°vyk' : 'Nov√Ω n√°vyk'),
                React.createElement('button', { 
                    onClick: handleSubmit,
                    disabled: !name.trim(),
                    className: 'w-12 h-12 theme-accent-bg text-white rounded-full flex items-center justify-center text-xl disabled:opacity-50'
                }, '‚úì')
            ),
            React.createElement('div', { className: 'space-y-4' },
                // ... Form fields for name, icon, color, goal, frequency ...
                // This part is simplified for brevity but would contain all form elements
                React.createElement('input', {
                    type: 'text',
                    value: name,
                    onChange: e => setName(e.target.value),
                    placeholder: 'Nap≈ô. ƒå√≠st knihu',
                    className: 'w-full theme-bg-secondary rounded-2xl px-4 py-4 focus:outline-none focus:ring-2 ring-[var(--accent)]'
                }),
                // Icon & Color Picker
                React.createElement('div', { className: 'theme-bg-secondary rounded-2xl p-4' },
                    React.createElement('h3', {className: 'text-sm theme-text-secondary mb-2'}, 'Barva & Ikona'),
                    React.createElement('div', { className: 'flex items-center space-x-2' },
                        React.createElement('div', { 
                            className: 'w-12 h-12 rounded-full flex items-center justify-center text-2xl',
                            style: { backgroundColor: color + '33' }
                        }, icon),
                        React.createElement('div', { className: 'flex-1 grid grid-cols-6 gap-2' },
                            COLORS.map(c => React.createElement('button', { key: c, onClick: () => setColor(c), className: `w-8 h-8 rounded-full ${color === c ? 'ring-2 ring-offset-2 ring-offset-[var(--bg-secondary)] ring-[var(--accent)]' : ''}`, style:{backgroundColor: c}}))
                        )
                    ),
                    React.createElement('div', { className: 'grid grid-cols-8 gap-2 mt-4' },
                        EMOJI_ICONS.map(i => React.createElement('button', { key: i, onClick: () => setIcon(i), className: `w-10 h-10 rounded-full flex items-center justify-center text-2xl ${icon === i ? 'theme-bg-tertiary' : 'theme-bg-secondary'}` }, i))
                    )
                ),
                // Goal and Frequency
                React.createElement('div', { className: 'theme-bg-secondary rounded-2xl p-4' },
                  React.createElement('div', { className: 'flex justify-between items-center' },
                    React.createElement('span', null, 'C√≠l'),
                    React.createElement('div', { className: 'flex items-center space-x-2' },
                      React.createElement('button', { onClick: () => setGoal(Math.max(1, goal-1)), className: 'w-10 h-10 theme-bg-tertiary rounded-full' }, '-'),
                      React.createElement('span', { className: 'w-12 text-center font-semibold' }, goal),
                      React.createElement('button', { onClick: () => setGoal(goal+1), className: 'w-10 h-10 theme-bg-tertiary rounded-full' }, '+')
                    )
                  ),
                  React.createElement('hr', { className: 'my-3 theme-border'}),
                  React.createElement('select', {
                      value: frequency,
                      onChange: e => setFrequency(e.target.value),
                      className: 'w-full theme-bg-secondary focus:outline-none'
                    },
                    React.createElement('option', {value: 'daily'}, 'Denn√≠ c√≠l'),
                    React.createElement('option', {value: 'weekly'}, 'T√Ωdenn√≠ c√≠l'),
                    React.createElement('option', {value: 'monthly'}, 'Mƒõs√≠ƒçn√≠ c√≠l')
                  )
                )
            )
        );
    }
    
    function BottomNav({ view, setView }) {
      const navItems = [
        { id: 'home', icon: 'üè†', label: 'Dom≈Ø' },
        { id: 'history', icon: 'üìä', label: 'Historie' },
        { id: 'settings', icon: '‚öôÔ∏è', label: 'Nastaven√≠' },
      ];
      return React.createElement('nav', { className: 'fixed bottom-0 left-0 right-0 theme-bg-secondary shadow-lg rounded-t-3xl pb-safe' },
        React.createElement('div', { className: 'max-w-2xl mx-auto px-6 py-3 flex justify-around items-center' },
          navItems.map(item => 
            React.createElement('button', {
              key: item.id,
              onClick: () => setView(item.id),
              className: 'flex flex-col items-center space-y-1'
            },
              React.createElement('div', { className: 'text-2xl' }, item.icon),
              React.createElement('span', {
                className: `text-xs font-medium transition-colors ${view === item.id ? 'theme-accent' : 'theme-text-secondary'}`
              }, item.label)
            )
          )
        )
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(HabitsTracker));
  </script>
</body>
</html>
